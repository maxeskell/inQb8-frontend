<div class="comments">
  <div class="row">
    <div class="col-md-6">
      <h2>{{ ideasShow.idea.title }}</h2>
      <h3>{{ ideasShow.idea.pitch }}</h3>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="event">
      <img ng-src="{{ ideasShow.idea.image_src }}" alt="{{ ideasShow.idea.title }}" height="300" width="400">
    </div>
  </div>
</div>

<div class="col-md-6">
  <div class="attendees">
    
    <div class="progress">
      <div class="progress-bar" role="progressbar" aria-valuenow="70"
      aria-valuemin="0" aria-valuemax="100" style="width:70%">
        <span class="sr-only">70% Complete</span>
      </div>
    </div>

    <h3><strong>Target: </strong>{{ ideasShow.idea.target }}</h3>
    <p><strong>End date: </strong>{{ideasShow.idea.days_remaining | date:"dd MMM yyyy 'at' h:mma" }}</p>
    <h3><strong>Description: </strong>{{ ideasShow.idea.description }}</h3>
    <p><strong>Created by: </strong>{{ ideasShow.idea.user.username }}</p>
    <h3><strong>Who we need: </strong>{{ ideasShow.idea.who_we_need }}</h3>
    <h3><strong>What's in it for you: </strong>{{ ideasShow.idea.benefits_for_you }}</h3>
    <p><strong>Duration: </strong>{{ideasShow.idea.campaign_duration}}</p>
    <h3><strong>Tags: </strong></h3>
    <ul>
      <li ng-repeat="tag in ideasShow.idea.tags">
        {{ tag.name }}
      </li>
    </ul>

    <button ui-sref="ideasEdit({id: ideasShow.idea.id})" ng-if="main.isAuthenticated() && main.currentUser.id === ideasShow.idea.user.id">Edit</button>
    <button ng-click="ideasShow.delete()" ng-if="main.isAuthenticated() && main.currentUser.id === ideasShow.idea.user.id">Delete</button>
  </div>
</div>

<div class="comments">
  <div class="row">
    <div class="col-md-6">
      <h5>People who love this idea</h5>
      <ul>
        <li ng-repeat="loves in ideasShow.idea.loves">
          {{ loves.username }}
        </li>
      </ul>
    </div>
    <div class="col-md-6" ng-if="main.isAuthenticated()">
      <h2>Love this idea?</h2>
      <button ng-click="ideasShow.toggleLove()" ng-if="main.isAuthenticated() && !ideasShow.love()">&hearts;</button>
      <button ng-click="ideasShow.toggleLove()" ng-if="main.isAuthenticated() && ideasShow.love()">Un-love this idea</button>
    </div>
  </div>
</div>

<div class="comments">
  <div class="row">
    <div class="col-md-6">
      <h2>Team members</h2>
      <ul>
        <li ng-repeat="joiner in ideasShow.idea.joiners">
          {{ joiner.username }}
        </li>
      </ul>
    </div>
    <div class="col-md-6" ng-if="main.isAuthenticated()">
      <h2>Join this team?</h2>
      <button ng-click="ideasShow.toggleJoin()" ng-if="main.isAuthenticated() && !ideasShow.love()">Hell yeah!</button>
      <button ng-click="ideasShow.toggleJoin()" ng-if="main.isAuthenticated() && ideasShow.love()">Un-join this team</button>
    </div>
  </div>
</div>

<div class="comments">
  <div class="row">
    <div class="col-md-6">
      <h2>Comments</h2>
      <ul>
        <li ng-repeat="comment in ideasShow.idea.comments">{{ comment.body }} - <strong>{{ comment.user.username }}</strong><button ng-click="ideasShow.deleteComment(comment)" ng-if="main.isAuthenticated() && main.currentUser.id === comment.user.id">Delete</button></li>
      </ul>
    </div>
    <div class="col-md-6" ng-if="main.isAuthenticated()">
      <h2>Add Comment</h2>
      <form ng-submit="ideasShow.addComment()">
        <textarea type="text" name="body" ng-model="ideasShow.comment.body"></textarea>
        <button>Create</button>
      </form>
    </div>
  </div>
</div>
